CREATE TABLE Campeur (
    Id_Campeur INT AUTO_INCREMENT,
    Identifiant VARCHAR(50) NOT NULL,
    Mot_de_passe VARCHAR(255) NOT NULL,
    Date_Debut DATE,
    Date_Fin DATE,
    PRIMARY KEY (Id_Campeur)
);

CREATE TABLE Gerant (
    Id_Gerant INT AUTO_INCREMENT,
    Identifiant VARCHAR(50) NOT NULL,
    Mot_de_passe VARCHAR(255) NOT NULL,
    Email VARCHAR(100),
    Telephone VARCHAR(20),
    PRIMARY KEY (Id_Gerant)
);

CREATE TABLE Emplacement (
    Id_Emplacement INT AUTO_INCREMENT,
    Numero_Emplacement VARCHAR(20) NOT NULL,
    Id_Campeur INT NOT NULL,
    Id_Gerant INT NOT NULL,
    PRIMARY KEY (Id_Emplacement),
    FOREIGN KEY (Id_Campeur) REFERENCES Campeur(Id_Campeur),
    FOREIGN KEY (Id_Gerant) REFERENCES Gerant(Id_Gerant)
);

CREATE TABLE Consommation_eau (
    Id_Consommation_eau INT AUTO_INCREMENT,
    Date_Heure DATETIME,
    Quantite DECIMAL(10,2),
    Id_Emplacement INT NOT NULL,
    PRIMARY KEY (Id_Consommation_eau),
    FOREIGN KEY (Id_Emplacement) REFERENCES Emplacement(Id_Emplacement)
);

CREATE TABLE Consommation_electrique (
    Id_Consommation_electrique INT AUTO_INCREMENT,
    Date_Heure DATETIME,
    Quantite DECIMAL(10,2),
    Id_Emplacement INT NOT NULL,
    PRIMARY KEY (Id_Consommation_electrique),
    FOREIGN KEY (Id_Emplacement) REFERENCES Emplacement(Id_Emplacement)
);

CREATE TABLE Rapport (
    Id_Rapport INT AUTO_INCREMENT,
    Periode VARCHAR(20),
    Quantite_eau_total DECIMAL(10,2),
    Quantite_electrique_total DECIMAL(10,2),
    moyenne_eau DECIMAL(10,2),
    moyenne_electrique DECIMAL(10,2),
    Id_Emplacement INT NOT NULL,
    PRIMARY KEY (Id_Rapport),
    FOREIGN KEY (Id_Emplacement) REFERENCES Emplacement(Id_Emplacement)
);

CREATE TABLE Seuil (
    Id_Seuil INT AUTO_INCREMENT,
    Seuil_Electricite_Matin DECIMAL(10,2),
    Seuil_Electricite_Soir DECIMAL(10,2),
    Seuil_Eau_Matin DECIMAL(10,2),
    Seuil_Eau_Midi DECIMAL(10,2),
    Seuil_Eau_Soir DECIMAL(10,2),
    Seuil_Eau_Nuit DECIMAL(10,2),
    Seuil_Electricite_Midi DECIMAL(10,2),
    Seuil_Electricite_Nuit DECIMAL(10,2),
    Id_Emplacement INT UNIQUE,
    PRIMARY KEY (Id_Seuil),
    FOREIGN KEY (Id_Emplacement) REFERENCES Emplacement(Id_Emplacement)
);

CREATE TABLE Alerte (
    Id_Alerte INT AUTO_INCREMENT,
    Notification_SMS BOOLEAN,
    Notification_Site BOOLEAN,
    Notification_Email BOOLEAN,
    Id_Gerant INT NOT NULL,
    Id_Seuil INT NOT NULL,
    PRIMARY KEY (Id_Alerte),
    FOREIGN KEY (Id_Gerant) REFERENCES Gerant(Id_Gerant),
    FOREIGN KEY (Id_Seuil) REFERENCES Seuil(Id_Seuil)
);
